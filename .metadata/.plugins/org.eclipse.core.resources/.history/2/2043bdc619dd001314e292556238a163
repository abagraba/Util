package PNGDecoder.Chunks;

import PNGDecoder.Chunk;
import PNGDecoder.ChunkRegistry;

public class ChunksRGB extends Chunk {

	public static void register() {
		ChunkRegistry.registerChunk(sRGB, ChunksRGB.class);
		System.out.println("sRGB Chunk Registered.");
	}

	public ChunksRGB(int size, byte[] header, byte[] data, int crc) {
		super(size, header, data, crc);
		if (parseState.containsKey(sRGB)){
			valid = false;
			errorDetails = "There may only be one sRGB Chunk.";
		}
		parseState.put(sRGB, 0);
	}

	protected boolean valid() {
		return size == 1;
	}

	protected String chunkDescription() {
		return pad("Rendering Intent:") + sRGBIntent.get(data[0]);
	}

	private enum sRGBIntent {
		perc("Perceptual"), relc("Relative Colorimetric"), satu("Saturation"), absc("Absolute Colorimetric");

		private String name;

		public static sRGBIntent get(int i) {
			if (i < 0 || i >= values().length)
				return null;
			return values()[i];
		}

		private sRGBIntent(String name) {
			this.name = name;
		}

		public String toString() {
			return name;
		}
	}

}
