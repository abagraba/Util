package PNGDecoder.Chunks;

import PNGDecoder.Chunk;
import PNGDecoder.ChunkRegistry;

public class ChunkcHRM extends Chunk {

	public static void register() {
		ChunkRegistry.registerChunk(cHRM, ChunkcHRM.class);
		System.out.println("cHRM Chunk Registered.");
	}

	public ChunkcHRM(int size, byte[] header, byte[] data, int crc) {
		super(size, header, data, crc);
		if (parseState.containsKey(cHRM)){
			valid = false;
			errorDetails = "There may only be one cHRM Chunk.";
		}
		parseState.put(cHRM, 0);
	}

	protected boolean valid() {
		return size == 32;
	}

	protected String chunkDescription() {
		return pad("White Point:") + "(" + unsign(toInt(data, 0)) + ", " + unsign(toInt(data, 4)) + ")\n" + pad("Red:") + "(" + unsign(toInt(data, 8)) + ", "
				+ unsign(toInt(data, 12)) + ")\n" + pad("Green:") + "(" + unsign(toInt(data, 16)) + ", " + unsign(toInt(data, 20)) + ")\n" + pad("Blue:") + "("
				+ unsign(toInt(data, 24)) + ", " + unsign(toInt(data, 28)) + ")";
	}

}
