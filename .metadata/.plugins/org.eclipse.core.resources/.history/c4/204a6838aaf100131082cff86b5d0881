package com.mimvista.cloud.organizer.verifier.content;

import java.awt.Component;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.Box;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;

import com.lowagie.text.Font;
import com.mimvista.cloud.organizer.verifier.proui.Navigable;
import com.mimvista.cloud.organizer.verifier.proui.SwapPanel;
import com.mimvista.cloud.organizer.verifier.proui.BoxUtil;

public class VerifierSearchOptions extends JPanel implements Navigable {

	private static final long serialVersionUID = 1L;
	private static final int border = 100;

	private SwapPanel swapPanel;
	private JButton search;
	private JButton back;
	private VerifierSearchField searching;

	public VerifierSearchOptions(SwapPanel swapPanel) {
		this.swapPanel = swapPanel;
		setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));
		setBorder(new EmptyBorder(border, border, border, border));

		JLabel title = new JLabel("MIMCloud Search");
		title.setFont(title.getFont().deriveFont(Font.BOLD, 24));

		searching = new VerifierSearchField();
		searching.initializeCloudFields();

		JPanel center = BoxUtil.horizontalBox();
		center.add(Box.createGlue());
		BoxUtil.insert(center, searching.getPanel());
		center.add(Box.createGlue());

		BoxUtil.addStrut(this, 50);
		BoxUtil.insert(title, this);
		BoxUtil.addStrut(this, 25);
		BoxUtil.insert(center, this);
		add(Box.createVerticalGlue());

		back = new JButton("Back");
		back.addActionListener(new ActionListener() {
			@Override
			public void actionPerformed(ActionEvent e) {
				VerifierSearchOptions.this.swapPanel.swapTo(null);
			}
		});
		search = new JButton("Search");
		search.addActionListener(new ActionListener() {
			@Override
			public void actionPerformed(ActionEvent e) {
				VerifierSearchOptions.this.swapPanel.swapTo(new VerifierSearchProgress(VerifierSearchOptions.this.swapPanel, searching.getFullCloudParams()));
			}
		});
	}

	@Override
	public int numButtons() {
		return 2;
	}

	@Override
	public JButton getButton(int i) {
		switch (i) {
			case 0:
				return back;
			case 1:
				return search;
		}
		return null;
	}

}
